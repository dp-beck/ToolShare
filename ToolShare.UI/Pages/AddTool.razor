@page "/add-tool"
@using ToolShare.UI.DTOs

<h3>Add Tool</h3>
@if (success)
{
    <div class=@StatusClass>@Message</div>
}
else
{
    <EditForm Model="@ToolDto"
              OnValidSubmit="HandleValidSubmit"
              OnInvalidSubmit="HandleInvalidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="form-group row m-3">
            <label for="Name" class="col-sm-2 col-form-label">Name:</label>
            <div class="col-sm-10">
                <InputText id="Name"
                           @bind-Value="@ToolDto.Name"
                           placeholder="Enter Tool Name">
                </InputText>
            </div>
        </div>

        <div class="form-group row m-3">
            <label for="Description" class="col-sm-2 col-form-label">Description:</label>
            <div class="col-sm-10">
                <InputTextArea id="Description"
                               @bind-Value="@ToolDto.Description"
                               placeholder="Provide a description of your tool">
                </InputTextArea>
            </div>
        </div>

        <div class="form-group row m-3">
            <label for="BorrowingPeriodInDays" class="col-sm-2 col-form-label">Borrowing Period (Days):</label>
            <div class="col-sm-10">
                <InputNumber id="BorrowingPeriodInDays"
                             @bind-Value="@ToolDto.BorrowingPeriodInDays">
                </InputNumber>
            </div>
        </div>
        
        <div class="form-group row m-3">
            <label for="toolPhoto" class="col-sm-2 col-form-label">Tool Photo:</label>
            <div class="col-sm-10">
                <button type="button" @onclick="openWidget">Upload Image</button>
            </div>
            <InputText type="hidden" id="toolPhoto" name="toolPhoto" @bind-Value="@ToolDto.ToolPhotoUrl" />
            <p>@PhotoUploadMessage</p>
        </div>

        <div class="form-group row m-3">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>    
        
    </EditForm>
    @if (error)
    {
        <div class=@StatusClass>@Message</div>
    }
}
